#!/bin/sh
#
# Combines all of the arff files in this directory to malware.arff
# 
# Brandon Amos
# 2012.08.11

# Get the header from a random arff file
sed '1,/@data/!d' `ls *.arff | head -1` > tmpTotal.txt 

# Looping through arff files to combine them
for file in *.arff
do
    # Delete the header
    sed '1,/@data/d' $file > tmpArff.txt

    # Delete the first line because it's always positive
    sed '1d' tmpArff.txt >> tmpTotal.txt
    echo >> tmpTotal.txt
done

rm tmpArff.txt
mv tmpTotal.txt malware.arff
